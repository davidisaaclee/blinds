'use strict';function _defineProperty(b,c,d){return c in b?Object.defineProperty(b,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[c]=d,b}var k={interactionDelay:1e3,blindsHeight:50,blindsSensitivity:10,maximumBlindsCyclesUp:2,maximumBlindsCyclesDown:2};window.onload=function(){setup(paper)};var numberOfBlinds=function(){return paper.view.bounds.height/k.blindsHeight};function setup(b){var e=document.getElementById('myCanvas');b.setup(e);var f=new b.SymbolDefinition(function(i,j){var l=new b.Path.Rectangle(new b.Rectangle(0,0,i,j));return l.fillColor='white',l}(b.view.bounds.width,k.blindsHeight),!0);f.item.visible=!1;for(var h,g=[],d=0;d<numberOfBlinds();d++)h=instantiateBlind(f,d,numberOfBlinds()),g.push(h);window.setTimeout(function(){return makeBlindsTool(f)},k.interactionDelay),b.view.onResize=function(i){if(f.item.bounds.width=i.size.width,g.length<numberOfBlinds())for(var j=g.length;j<numberOfBlinds();j++)g[j]=instantiateBlind(f,j,numberOfBlinds())}}function makeBlindsTool(b){var c=new paper.Tool,d=1e-3;return c.lastScaleFactor=1,c.onMouseMove=function(e){var f=k.blindsSensitivity*-e.delta.y/paper.view.bounds.height;d=clamp(d+f,{min:2*-k.maximumBlindsCyclesDown,max:2*k.maximumBlindsCyclesUp});var g=function(){var h=0.2,i=function(l){return clamp(l,{min:0,max:1})+1e-3},j=wrap(d,2);return j>=2-h||j<=h?1e-3:1<j?i(map(2-j,{from:{min:h,max:1},to:{min:0,max:1}})):i(map(j,{from:{min:h,max:1},to:{min:0,max:1}}))}();b.item.scale(1,g/c.lastScaleFactor),1e-3===g&&(b.item.visible=!1),1e-3<g&&1e-3===c.lastScaleFactor&&(b.item.visible=!0),c.lastScaleFactor=g},c}function instantiateBlind(b,c,d){var e=positionOfBlindInstance(c,paper.view.bounds.height,d),f=b.place(e);f.pivot=new paper.Point(0,0)}function insertItemIntoIndexedMap(b,c){return Object.assign({},b,_defineProperty({},c.id,c))}function clamp(b,_ref){var c=_ref.min,d=_ref.max;return Math.max(c,Math.min(d,b))}function wrap(b,c){var d=b%c;return 0>d?c+d:d}function map(b,_ref2){var c=_ref2.from,d=_ref2.to;return(b-c.min)/(c.max-c.min)*(d.max-d.min)+d.min}function positionOfBlindInstance(b,c,d){return new paper.Point(0,b*c/d)}
